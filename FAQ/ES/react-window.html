<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>é•¿åˆ—è¡¨ä¼˜åŒ– | å®ˆå¤œäººç¬”è®°</title>
    <meta name="description" content="å®ˆå¤œäººç¬”è®°">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/img/favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.f09e5b7a.css" as="style"><link rel="preload" href="/assets/js/app.903983bb.js" as="script"><link rel="preload" href="/assets/js/2.c5c844f9.js" as="script"><link rel="preload" href="/assets/js/14.4f25373e.js" as="script"><link rel="prefetch" href="/assets/js/10.acc61093.js"><link rel="prefetch" href="/assets/js/11.b5b7d313.js"><link rel="prefetch" href="/assets/js/12.044e77b3.js"><link rel="prefetch" href="/assets/js/13.f84ff47d.js"><link rel="prefetch" href="/assets/js/15.69ad7253.js"><link rel="prefetch" href="/assets/js/16.ac264240.js"><link rel="prefetch" href="/assets/js/17.8684da05.js"><link rel="prefetch" href="/assets/js/18.ceef7e7d.js"><link rel="prefetch" href="/assets/js/19.fdccf963.js"><link rel="prefetch" href="/assets/js/20.eea2ef94.js"><link rel="prefetch" href="/assets/js/21.436a904b.js"><link rel="prefetch" href="/assets/js/22.5b0e4632.js"><link rel="prefetch" href="/assets/js/23.456132eb.js"><link rel="prefetch" href="/assets/js/24.0c9dfbdb.js"><link rel="prefetch" href="/assets/js/25.1e46f166.js"><link rel="prefetch" href="/assets/js/26.bc6d72fe.js"><link rel="prefetch" href="/assets/js/27.699fbdd0.js"><link rel="prefetch" href="/assets/js/28.b4423e59.js"><link rel="prefetch" href="/assets/js/3.b94df1a7.js"><link rel="prefetch" href="/assets/js/4.29bcc168.js"><link rel="prefetch" href="/assets/js/5.a332531e.js"><link rel="prefetch" href="/assets/js/6.a34f260f.js"><link rel="prefetch" href="/assets/js/7.b152462c.js"><link rel="prefetch" href="/assets/js/8.6811b85d.js"><link rel="prefetch" href="/assets/js/9.a9a41e29.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f09e5b7a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">å®ˆå¤œäººç¬”è®°</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link router-link-active">
  æ±‚ç´¢
</a></div><div class="nav-item"><a href="/Thought/" class="nav-link">
  éšç¬”
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/StackFei" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHubé¦–é¡µ
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link router-link-active">
  æ±‚ç´¢
</a></div><div class="nav-item"><a href="/Thought/" class="nav-link">
  éšç¬”
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/StackFei" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHubé¦–é¡µ
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/FAQ/" class="sidebar-link">ğŸ“šJSæ‰‹æ®‹</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>èŠ±é‡Œèƒ¡å“¨å¿…å¤‡ç‚¹</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FAQ/ES/promise.html" class="sidebar-link">ğŸš—promise</a></li><li><a href="/FAQ/ES/react-window.html" class="active sidebar-link">ğŸš•é•¿åˆ—è¡¨</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FAQ/ES/react-window.html#é•¿åˆ—è¡¨ä¼˜åŒ–" class="sidebar-link">é•¿åˆ—è¡¨ä¼˜åŒ–</a></li><li class="sidebar-sub-header"><a href="/FAQ/ES/react-window.html#æ­£å„¿å…«ç»çš„æ¨¡ä»¿" class="sidebar-link">æ­£å„¿å…«ç»çš„æ¨¡ä»¿</a></li><li class="sidebar-sub-header"><a href="/FAQ/ES/react-window.html#ç•ªå¤–" class="sidebar-link">ç•ªå¤–</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Reactä¸­çš„ä¸€äº›å°å¿ƒå¾—</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FAQ/React/VirtualDom.html" class="sidebar-link">ğŸŒ°ç®€å•çš„è™šæ‹ŸDom</a></li><li><a href="/FAQ/React/react-router.html" class="sidebar-link">ğŸ‘router</a></li><li><a href="/FAQ/React/context.html" class="sidebar-link">ğŸ‡ä¸Šä¸‹æ–‡</a></li><li><a href="/FAQ/React/react-redux.html" class="sidebar-link">ğŸreduxçš„é€šè®¯æ–¹å¼</a></li><li><a href="/FAQ/React/react-redux-middleware.html" class="sidebar-link">ğŸç®€æ˜“ä¸­é—´ä»¶</a></li><li><a href="/FAQ/React/Hooks.html" class="sidebar-link">ğŸŠHooks</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vueçš„ä¸€äº›å°ç¬”è®°</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FAQ/Vue/Cli.html" class="sidebar-link">ğŸ”¨èŠ±é‡Œèƒ¡å“¨çš„cli</a></li><li><a href="/FAQ/Vue/observer.html" class="sidebar-link">ğŸ”§ä¹ä¸ç‰ˆæœ¬MvvM</a></li><li><a href="/FAQ/Vue/Communication.html" class="sidebar-link">ğŸ› ï¸è®°ä¸€æ¬¡é€šä¿¡æ–¹å¼</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ—¥å¸¸æ‚ç©</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FAQ/Work/TSC.html" class="sidebar-link">ğŸ‹ï¸â€â™‚ï¸TypeScript</a></li><li><a href="/FAQ/Work/cicd.html" class="sidebar-link">ğŸš´æŒç»­é›†æˆéƒ¨ç½²ï¼ˆci/cdï¼‰</a></li><li><a href="/FAQ/Work/AOP.html" class="sidebar-link">ğŸŒï¸â€â™‚ï¸AOPé¢å‘åˆ‡ç‰‡ç¼–ç¨‹</a></li><li><a href="/FAQ/Work/WeChat.html" class="sidebar-link">â›¹ï¸è¸©å‘Reactç³»åˆ—å°ç¨‹åº</a></li><li><a href="/FAQ/Work/Work1.html" class="sidebar-link">ğŸ¤¾â€â™‚ï¸å‰ç«¯è¯·æ±‚çš„æ­£ç¡®æ‰“å¼€æ–¹å¼</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ä¹±å†™ç³»åˆ—</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FAQ/Node/require.html" class="sidebar-link">ğŸ€requireåŸºæ“</a></li><li><a href="/FAQ/Node/Koa.html" class="sidebar-link">âš½ï¸åˆçº§Koa</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="é•¿åˆ—è¡¨ä¼˜åŒ–"><a href="#é•¿åˆ—è¡¨ä¼˜åŒ–" class="header-anchor">#</a> é•¿åˆ—è¡¨ä¼˜åŒ–</h2> <blockquote><p>åºŸè¯ä¸å¤šè¯´, ä¸»è¦æ˜¯æ¶‰åŠé•¿åˆ—è¡¨ä¼˜åŒ–åŠ è½½é—®é¢˜ä¼ ç»Ÿæ„ä¹‰çš„é•¿åˆ—è¡¨å°±æ˜¯æ— é™åˆ¶çš„è¯·æ±‚åŠ è½½æ•°æ®, å°±webç«¯æ¥è¯´, ä½¿åŠ²çš„å¾€ä¸Šæ€¼, å½“ç„¶å°±ä¼šå¸¦æ¥ä¸€äº›åˆ—é—®é¢˜, å†™æ˜¯ä¸€æ—¶çˆ½, é‡æ„ç«è‘¬åœº, è¿™å¥è¯å¯ä¸æ˜¯æµªå¾—è™šåçš„, æŠ›å¼€ä¸šåŠ¡çº¿çš„è‡ƒè‚¿é—®é¢˜,</p></blockquote> <h3 id="åºŸè¯ä¸€å¤§å †"><a href="#åºŸè¯ä¸€å¤§å †" class="header-anchor">#</a> åºŸè¯ä¸€å¤§å †</h3> <ul><li>å°±æ‰‹æœºç«¯æ¥è¯´, ä¹‹å‰è´Ÿè´£è¿‡çš„ä¸€ä¸ªReactNativeé¡¹ç›®, æ¶‰åŠåˆ°é•¿åˆ—è¡¨çš„é—®é¢˜, åŸºæœ¬ä¸ŠåŠ è½½åˆ°200æ¡é™„è¿‘å°±ä¼šå‡ºç°æ€§èƒ½é—®é¢˜, æŸäº›å›¾ç‰‡, æ–‡å­—å°±ä¼šåŠ è½½ä¸å‡ºæ¥ã€‚</li></ul> <p>æ¥ä¸‹æ¥å°±ç”±æ­¤æ¥å±•å¼€é—®é¢˜, å½“ç„¶, è™½ç„¶åšè¿‡åˆ†é¡µå¤„ç†, ä½†å…¶ä¸­çš„åŠ è½½ç‚¹, ä¹Ÿåªæ˜¯æŒ‰æ‰¹æ¬¡åƒåè¿½åŠ , åªæ˜¯èƒ½è§£å†³çªç„¶é—´çš„å¤§æ‰¹é‡è¿½åŠ , è™½ç„¶å…¶ç”Ÿæ€æœ‰ä¸€äº›åˆ—è¡¨çš„åº“, ä½†æ˜¯ç”±äºå®šåˆ¶åŒ–è¿‡é«˜, ä»»æœªé‡‡çº³, æŠ˜è…¾è®¸ä¹…, å‘ç°äº†Reactçš„ä¸€ä¸ªwebç«¯çš„åˆ—è¡¨ä¼˜åŒ–åº“<code>React-window</code>, å¤§è‡´ä¸Šä¹Ÿå¯¹å…¶æºç åŠæ•ˆæœäº†è§£è¿‡, æ‰€ä»¥, å°±è‡ªå®šä¹‰å®šåˆ¶åŒ–äº†ä¸€ä¸‹, å½“ç„¶ä¹Ÿä¸æ˜¯å®šåˆ¶RNç«¯,åªæ˜¯è‡ªå·±å­¦ä¹ å½“ä¸­çš„ç¬”è®°.</p> <h2 id="æ­£å„¿å…«ç»çš„æ¨¡ä»¿"><a href="#æ­£å„¿å…«ç»çš„æ¨¡ä»¿" class="header-anchor">#</a> æ­£å„¿å…«ç»çš„æ¨¡ä»¿</h2> <blockquote><p>é¦–å…ˆè¦å†™, å½“ç„¶æ˜¯å…ˆçœ‹ç”¨æ³•, æ¨¡ä»¿å…¥æ‰‹, å½“ç„¶ä½ å¾—å¯¹ç”¨æ³•ç†Ÿæ‚‰</p></blockquote> <p>å…ˆç¡®å®šä¸€ä¸ªæ€è·¯, è¯¥åº“ä¸»è¦æ˜¯ä¼˜åŒ–å½“å‰ä¸€å…±æ˜¾ç¤ºçš„æ¡æ•°, æ¥å‡å°‘ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€, æ—¢ç„¶æ˜¯æ»šåŠ¨é—®é¢˜, æœ‰ä¸¤ä¸­æ–¹æ¡ˆ, è¦ä¹ˆ<code>padding</code>æ¥æ’‘, è¦ä¹ˆ<code>position</code>æ¥å®šä½, æ˜¾ç„¶æˆ‘ä¼šé€‰æ‹©åè€…æ¥è§£å†³. è®¡ç®—å½“å‰çš„æ»šåŠ¨é«˜åº¦æ¥æ˜¾ç¤ºå½“å‰åº”è¯¥æ˜¾ç¤ºçš„è¯•å›¾</p> <blockquote><p>è¿˜æ˜¯æ¯”è¾ƒæ¸…æ™°æ˜äº†, ä¸»è¦æ˜¯ä¸€ä¸ªç±»<code>FixedSizeList</code> , å…¶ä½™çš„æ— éå°±æ˜¯<code>Props</code>å‚æ•°é—®é¢˜, <code>children</code>é—®é¢˜</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> FixedSizeList <span class="token keyword">as</span> List <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-window'</span><span class="token punctuation">;</span>
 
<span class="token keyword">const</span> <span class="token function-variable function">Row</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> index<span class="token punctuation">,</span> style <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span>style<span class="token punctuation">}</span><span class="token operator">&gt;</span>Row <span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">const</span> <span class="token function-variable function">Example</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>List
    height<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">150</span><span class="token punctuation">}</span>
    itemCount<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1000</span><span class="token punctuation">}</span>
    itemSize<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">35</span><span class="token punctuation">}</span>
    width<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">300</span><span class="token punctuation">}</span>
  <span class="token operator">&gt;</span>
    <span class="token punctuation">{</span>Row<span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>List<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>é¦–å…ˆæ¥è§£å†³å¤§è‡´é—®é¢˜, ä¸»ç±»æ¥æ”¶å‚æ•°, ç¡®å®šæ€»é«˜åº¦, æ¸²æŸ“ä½ç½®, æ¸²æŸ“ä¼ å…¥çš„children</li></ul> <blockquote><p>ï¼ˆwidthå®¹å™¨çš„å®½åº¦ï¼‰  ï¼ˆheightéœ€è¦æ˜¾ç¤ºå®¹å™¨çš„é«˜åº¦ï¼‰ ï¼ˆitemSizeæ¯ä¸ªå•ç‹¬å®¹å™¨çš„é«˜åº¦ï¼‰ ï¼ˆitemCountéœ€è¦æ˜¾ç¤ºçš„æ€»æ•°é‡ï¼‰</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">FixedSizeList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">propsï¼šIProps</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> itemSize<span class="token punctuation">,</span> itemCount <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  <span class="token keyword">const</span> containerStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
    width<span class="token punctuation">,</span>
    height<span class="token punctuation">,</span>
    position<span class="token operator">:</span> <span class="token string">'relative'</span><span class="token punctuation">,</span>
    overflow<span class="token operator">:</span> <span class="token string">'auto'</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span>containerStyle<span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span> height<span class="token operator">:</span> itemCount <span class="token operator">*</span> itemSize <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token comment">// children</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> FixedSizeList <span class="token punctuation">}</span>
</code></pre></div><ul><li>ç¬¬äºŒæ­¥, å…ˆå°†é¦–å±éœ€è¦æ¸²æŸ“çš„æ¡æ•°,æ¸²æŸ“å‡ºæ¥ã€‚ é‚£å°±æ¶‰åŠåˆ°è®¡ç®—é—®é¢˜</li></ul> <blockquote><p>è¿™ä¸€æ­¥åº”è¯¥éƒ½å¥½è¿æ¥, (pageSize éœ€è¦åŠ¨æ€ç®—å‡ºé¦–å±å¯ä»¥æ˜¾ç¤ºå¤šå°‘æ¡ä¿¡æ¯,å½“ç„¶æ˜¯æ ¹æ®ä½ æä¾›çš„æ•°æ®æ¥è®¡ç®—) ,ï¼ˆitemStyleé»˜è®¤ç»™æ¯ä¸€ä¸ªå°å®¹å™¨éƒ½å¢åŠ ä¸€ä¸ªå®šä½çš„åŸºæœ¬ä¿¡æ¯, åç»­æ¯æ¬¡å¢åŠ éƒ½å¯ä»¥è¦†ç›–æ‰ï¼‰, (stopIndexå½“ç„¶ä½ å¾—é€šè¿‡æœ€ç»ˆåŠ è½½å‚æ•°æ¥æ˜¾ç¤ºåŠ è½½çš„æ•°é‡, å¯åˆ«ä¸€ç›´æ»šåŠ¨ä¸€ç›´åŠ è½½), å‰©ä¸‹çš„å°±æ˜¯è¿”å›æ¸²æŸ“å€¼äº† (children è¿™é‡Œä»£è¡¨çš„æ˜¯ä¸€ä¸ªä¸ªçš„å‡½æ•°æ¸²æŸ“)</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">getData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> pageSize<span class="token operator">:</span> number <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>height <span class="token operator">/</span> itemSize<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> itemStyle<span class="token operator">:</span> ItemStyle <span class="token operator">=</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span> height<span class="token operator">:</span> itemSize<span class="token punctuation">,</span> position<span class="token operator">:</span> <span class="token string">'absolute'</span><span class="token punctuation">,</span> left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> top<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
  <span class="token keyword">const</span> stopIndex<span class="token operator">:</span> number <span class="token operator">=</span> pageSize <span class="token operator">+</span> startIndex
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> startIndex<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token punctuation">(</span>stopIndex <span class="token operator">&gt;=</span> itemCount <span class="token operator">?</span> itemCount <span class="token operator">:</span> stopIndex<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> style<span class="token operator">:</span> ItemStyle <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>itemStyle<span class="token punctuation">,</span> top<span class="token operator">:</span> i <span class="token operator">*</span> itemSize <span class="token punctuation">}</span>
    children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span><span class="token punctuation">{</span> index<span class="token operator">:</span> i<span class="token punctuation">,</span> style <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> children<span class="token punctuation">;</span>

  <span class="token punctuation">{</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>ç¬¬ä¸‰æ­¥, ä½¿ç”¨</li></ul> <blockquote><p>å…ˆæ¥ä¸€ç‚¹é»˜è®¤å‚æ•°, æ ·å¼æ¥å¡«è¡¥ä¸€ä¸‹, ä¸å‡ºæ„å¤–, é¦–å±å°±ä¼šå‡ºç°ä¸€ä¸ªåªåŠ è½½äº†å…­æ¡ä¿¡æ¯çš„domå…ƒç´ ,</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> FixedSizeList <span class="token keyword">as</span> List <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./package/reactScroll'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Row<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token function-variable function">Element</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> index<span class="token punctuation">,</span> style <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token operator">...</span>style<span class="token punctuation">,</span> textAlign<span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span> backgroundColor<span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span> border<span class="token operator">:</span> <span class="token string">'1px solid black'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>List
      height<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">300</span><span class="token punctuation">}</span>
      itemSize<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">}</span>
      itemCount<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">}</span>
      width<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'100%'</span><span class="token punctuation">}</span>
    <span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>Row<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>List<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>ç¬¬å››æ­¥, æ·»åŠ æ»šåŠ¨äº‹ä»¶</li></ul> <blockquote><p>å¦‚æœæƒ³è¦æ»šåŠ¨çš„æ—¶å€™åŠ¨æ€ç»™ æ·»åŠ åˆå§‹å€¼è®¡ç®—, å¿…ç„¶æ˜¯éœ€è¦æ·»åŠ è‡ªå®šä¹‰äº‹ä»¶, ç”±äºReactçš„fiberDom , é‚£å°±é€šè¿‡Refæ¥è·å–, è¿™é‡Œçš„Reféœ€è¦æ·»åŠ åˆ°æœ€å¤–å±‚çš„äº‹ä»¶ç›‘å¬ä¸Š, ï¼ˆscrollTop åªéœ€è¦ç›‘å¬è¯¥å€¼çš„å˜åŒ–,æ¥åŠ¨æ€è®¡ç®—æ»šåŠ¨çš„æ•°é‡ä»¥æ­¤æ¥æ”¹å˜ä¸‹æ¬¡æ·»åŠ çš„åˆå§‹å€¼ä»¥åŠç»“æŸå€¼ï¼‰</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token keyword">const</span> <span class="token punctuation">[</span>startIndex<span class="token punctuation">,</span> setStartIndex<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> containerRef<span class="token operator">:</span> React<span class="token punctuation">.</span>MutableRefObject<span class="token operator">&lt;</span><span class="token keyword">null</span><span class="token operator">&gt;</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// @ts-ignore</span>
  containerRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// @ts-ignore</span>
    <span class="token keyword">const</span> scrollTop<span class="token operator">:</span> number <span class="token operator">=</span> containerRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
    <span class="token keyword">const</span> currentIndex<span class="token operator">:</span> number <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>scrollTop <span class="token operator">/</span> itemSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setStartIndex</span><span class="token punctuation">(</span>currentIndex<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><hr> <p>ç”±äºåˆæ¬¡å†™è¿™ç§, å†™çš„ä¸æ˜¯å¾ˆå®Œå–„, å…¶å®å®ç°ç±»ä¼¼çš„æ•ˆæœ, æ–¹æ³•æœ‰å¾ˆå¤šç§, ä¹Ÿæœ‰å¾ˆå¤šçµæ´»çš„åšæ³•, ä¸»è¦æ˜¯çœ‹å®ç°æ€è·¯, è®¡ç®—æ–¹æ³•çš„é—®é¢˜, å½“ç„¶æˆ‘å†™çš„ä¹Ÿæœ‰å¾ˆå¤šè®¡ç®—è‡ƒè‚¿çš„åœ°æ–¹, éƒ½å¯ä»¥æ ¹æ®è‡ªå·±çš„æŒæ¡ç¨‹åº¦æ¥åšä¿®æ”¹,</p> <h2 id="ç•ªå¤–"><a href="#ç•ªå¤–" class="header-anchor">#</a> ç•ªå¤–</h2> <blockquote><p>ç”±äºä¸æ˜¯é‡‡ç”¨è„šæ‰‹æ¶ç”Ÿæˆçš„, ç”¨webpackè‡ªå·±æ­å»ºçš„é¡¹ç›®, å½“ç„¶æŒæ¡ä¸€ç‚¹è‚¯å®šæ˜¯æ²¡é”™çš„, å°±å°†å…¶ç®€æ˜“ç‰ˆé…ç½®å†™å‡ºæ¥å‚è€ƒä¸€ä¸‹, å½“ç„¶ä½ å¯èƒ½è¿˜å¾—ä¸‹è½½å„ç§loaderæ¥ç¼–è¯‘.</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'clean-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
  context<span class="token operator">:</span> process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  devtool<span class="token operator">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span>
  entry<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/index.tsx'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token operator">:</span> <span class="token string">'umd'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;~&quot;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">&quot;@&quot;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.ts'</span><span class="token punctuation">,</span> <span class="token string">'.tsx'</span><span class="token punctuation">,</span> <span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">,</span> <span class="token string">'.less'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.tsx$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'ts-loader'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex">/node_modules/</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">,</span> <span class="token string">'@babel/preset-react'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">[</span><span class="token string">'@babel/plugin-proposal-decorators'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> legacy<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token string">'@babel/plugin-proposal-class-properties'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> loose<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
            <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        include<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex">/node_modules/</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.less$/</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'less-loader'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      template<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public/index.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      filename<span class="token operator">:</span> <span class="token string">'index.html'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">æœ€åæ›´æ–°æ—¶é—´:</span> <span class="time">3/1/2020, 2:37:25 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/FAQ/ES/promise.html" class="prev">
        ğŸš—promise
      </a></span> <span class="next"><a href="/FAQ/React/VirtualDom.html">
        ğŸŒ°ç®€å•çš„è™šæ‹ŸDom
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.903983bb.js" defer></script><script src="/assets/js/2.c5c844f9.js" defer></script><script src="/assets/js/14.4f25373e.js" defer></script>
  </body>
</html>
