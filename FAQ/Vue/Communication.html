<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å¸¸è§é€šä¿¡æ–¹å¼ | å®ˆå¤œäººç¬”è®°</title>
    <meta name="description" content="å®ˆå¤œäººç¬”è®°">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/img/favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.f09e5b7a.css" as="style"><link rel="preload" href="/assets/js/app.903983bb.js" as="script"><link rel="preload" href="/assets/js/2.c5c844f9.js" as="script"><link rel="preload" href="/assets/js/21.436a904b.js" as="script"><link rel="preload" href="/assets/js/10.acc61093.js" as="script"><link rel="prefetch" href="/assets/js/11.b5b7d313.js"><link rel="prefetch" href="/assets/js/12.044e77b3.js"><link rel="prefetch" href="/assets/js/13.f84ff47d.js"><link rel="prefetch" href="/assets/js/14.4f25373e.js"><link rel="prefetch" href="/assets/js/15.69ad7253.js"><link rel="prefetch" href="/assets/js/16.ac264240.js"><link rel="prefetch" href="/assets/js/17.8684da05.js"><link rel="prefetch" href="/assets/js/18.ceef7e7d.js"><link rel="prefetch" href="/assets/js/19.fdccf963.js"><link rel="prefetch" href="/assets/js/20.eea2ef94.js"><link rel="prefetch" href="/assets/js/22.5b0e4632.js"><link rel="prefetch" href="/assets/js/23.456132eb.js"><link rel="prefetch" href="/assets/js/24.0c9dfbdb.js"><link rel="prefetch" href="/assets/js/25.1e46f166.js"><link rel="prefetch" href="/assets/js/26.bc6d72fe.js"><link rel="prefetch" href="/assets/js/27.699fbdd0.js"><link rel="prefetch" href="/assets/js/28.b4423e59.js"><link rel="prefetch" href="/assets/js/3.b94df1a7.js"><link rel="prefetch" href="/assets/js/4.29bcc168.js"><link rel="prefetch" href="/assets/js/5.a332531e.js"><link rel="prefetch" href="/assets/js/6.a34f260f.js"><link rel="prefetch" href="/assets/js/7.b152462c.js"><link rel="prefetch" href="/assets/js/8.6811b85d.js"><link rel="prefetch" href="/assets/js/9.a9a41e29.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f09e5b7a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">å®ˆå¤œäººç¬”è®°</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link router-link-active">
  æ±‚ç´¢
</a></div><div class="nav-item"><a href="/Thought/" class="nav-link">
  éšç¬”
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/StackFei" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHubé¦–é¡µ
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="/FAQ/" class="nav-link router-link-active">
  æ±‚ç´¢
</a></div><div class="nav-item"><a href="/Thought/" class="nav-link">
  éšç¬”
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="GitHub" class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/StackFei" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHubé¦–é¡µ
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/FAQ/" class="sidebar-link">ğŸ“šJSæ‰‹æ®‹</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>èŠ±é‡Œèƒ¡å“¨å¿…å¤‡ç‚¹</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FAQ/ES/promise.html" class="sidebar-link">ğŸš—promise</a></li><li><a href="/FAQ/ES/react-window.html" class="sidebar-link">ğŸš•é•¿åˆ—è¡¨</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Reactä¸­çš„ä¸€äº›å°å¿ƒå¾—</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FAQ/React/VirtualDom.html" class="sidebar-link">ğŸŒ°ç®€å•çš„è™šæ‹ŸDom</a></li><li><a href="/FAQ/React/react-router.html" class="sidebar-link">ğŸ‘router</a></li><li><a href="/FAQ/React/context.html" class="sidebar-link">ğŸ‡ä¸Šä¸‹æ–‡</a></li><li><a href="/FAQ/React/react-redux.html" class="sidebar-link">ğŸreduxçš„é€šè®¯æ–¹å¼</a></li><li><a href="/FAQ/React/react-redux-middleware.html" class="sidebar-link">ğŸç®€æ˜“ä¸­é—´ä»¶</a></li><li><a href="/FAQ/React/Hooks.html" class="sidebar-link">ğŸŠHooks</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vueçš„ä¸€äº›å°ç¬”è®°</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FAQ/Vue/Cli.html" class="sidebar-link">ğŸ”¨èŠ±é‡Œèƒ¡å“¨çš„cli</a></li><li><a href="/FAQ/Vue/observer.html" class="sidebar-link">ğŸ”§ä¹ä¸ç‰ˆæœ¬MvvM</a></li><li><a href="/FAQ/Vue/Communication.html" class="active sidebar-link">ğŸ› ï¸è®°ä¸€æ¬¡é€šä¿¡æ–¹å¼</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FAQ/Vue/Communication.html#å‰ç½®çŸ¥è¯†" class="sidebar-link">å‰ç½®çŸ¥è¯†</a></li><li class="sidebar-sub-header"><a href="/FAQ/Vue/Communication.html#å¸¸è§æ“ä½œ" class="sidebar-link">å¸¸è§æ“ä½œ</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>æ—¥å¸¸æ‚ç©</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FAQ/Work/TSC.html" class="sidebar-link">ğŸ‹ï¸â€â™‚ï¸TypeScript</a></li><li><a href="/FAQ/Work/cicd.html" class="sidebar-link">ğŸš´æŒç»­é›†æˆéƒ¨ç½²ï¼ˆci/cdï¼‰</a></li><li><a href="/FAQ/Work/AOP.html" class="sidebar-link">ğŸŒï¸â€â™‚ï¸AOPé¢å‘åˆ‡ç‰‡ç¼–ç¨‹</a></li><li><a href="/FAQ/Work/WeChat.html" class="sidebar-link">â›¹ï¸è¸©å‘Reactç³»åˆ—å°ç¨‹åº</a></li><li><a href="/FAQ/Work/Work1.html" class="sidebar-link">ğŸ¤¾â€â™‚ï¸å‰ç«¯è¯·æ±‚çš„æ­£ç¡®æ‰“å¼€æ–¹å¼</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ä¹±å†™ç³»åˆ—</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FAQ/Node/require.html" class="sidebar-link">ğŸ€requireåŸºæ“</a></li><li><a href="/FAQ/Node/Koa.html" class="sidebar-link">âš½ï¸åˆçº§Koa</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><blockquote><p>åˆåˆ°äº†æ—¥å¸¸å­¦ä¹ æ¡†æ¶ç»„ä»¶é€šä¿¡çš„æ—¶å€™, è®²é“ç†, è¿˜è®°å¾—æ›¾ç»çœ‹<code>React</code>é€šä¿¡å°±è§‰å¾—æ¶å¿ƒ, å› ä¸ºäº‹å®ä¸Šä½ æ ¹æœ¬ç”¨ä¸åˆ°é‚£ä¹ˆèŠ±é‡Œèƒ¡å“¨çš„æ–¹å¼, ä¸€ä¸ªçŠ¶æ€ç®¡ç†å°±æå®š. ç°å¦‚ä»Šæˆ‘çœ‹åˆ°<code>Vue</code>çš„ç»„å»ºé€šä¿¡çš„æ–¹å¼, æ›´æ˜¯çœ‹ç™½äº†å¤´, å„ç§å †<code>Api</code>.</p></blockquote> <p><strong>è€è§„çŸ©, ä¸ªäººå­¦ä¹ è®°å½•, ä¸å–œå‹¿å–·</strong></p> <h2 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="header-anchor">#</a> å‰ç½®çŸ¥è¯†</h2> <p>çœ‹åˆ°è¿™å—åœ°æ–¹, ç›¸ä¿¡ä½ å·²ç»å¯¹å¤§å¤šæ•°<code>api</code>ä»¥åŠæœ‰äº†è§£åˆ°, å­¦åˆ°è¿™æˆ‘ç®—æ˜¯å‘ç°, æ€ªä¸å¾—<code>Vue</code>ä¸Šæ‰‹æ¯”<code>React</code>å¿«, å°±æ˜¯å„ç§<code>Api</code>å¾€ä¸Šæ€¼, ä¸æ˜¯è¯´å¾ˆç†Ÿç»ƒ, èµ·ç å¯¹å•å‘æ•°æ®æµçš„æ¦‚å¿µæ˜¯æœ‰è®¤çŸ¥çš„, å•å‘çš„ä¸é™Œç”Ÿå§, å’Œ<code>React</code>çš„æ“ä½œä¸€ä¸ªå°¿æ€§, å°±æ˜¯å„ç§å‘ä¸‹ä¼ , å‘ä¸Šå›ä¼ .</p> <h2 id="å¸¸è§æ“ä½œ"><a href="#å¸¸è§æ“ä½œ" class="header-anchor">#</a> å¸¸è§æ“ä½œ</h2> <p>ä»¥ä¸‹å°±æ˜¯å‡ ç§å®ç°å†™æ³•ä¸Šçš„å¼‚åŒ.</p> <ul><li><strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>props emit</span></strong></li> <li><strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>update:xxx sync v-model</span></strong></li> <li><strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>$parent $children</span></strong></li> <li><strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>$attrs $listeners</span></strong></li> <li><strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>provider inject</span></strong></li> <li><strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>ref</span></strong></li> <li><strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>eventBus</span></strong></li></ul> <h3 id="å¸¸è§å°ğŸŒ°"><a href="#å¸¸è§å°ğŸŒ°" class="header-anchor">#</a> å¸¸è§å°ğŸŒ°</h3> <p>å¸¸è§çš„ç¥–å­™ä¸‰ä»£ä¼ é€’æ•°æ®çš„å°ğŸŒ°</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// Parent
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">:price</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    components<span class="token operator">:</span><span class="token punctuation">{</span>Child<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>price<span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

// Child
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{price}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    props<span class="token operator">:</span><span class="token punctuation">{</span>
        price<span class="token operator">:</span><span class="token punctuation">{</span>
            type<span class="token operator">:</span>Number
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><strong>ä»¥ä¸Šä¼ å€¼æ–¹å¼, ç®€å•ç²—æš´ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¤§éš¾åº¦çš„æ“ä½œ, ä¸‹é¢æˆ‘ä»¬æ¥å°è¯•åŸºæœ¬çš„æ›´æ”¹æ“ä½œ, å‰ç½®ä»¥åŠè¯´è¿‡å•å‘æ•°æ®, è‚¯å®šç›¸å·®æ— å‡ .</strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>props emit</span></li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code>// Parent
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">:price</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@changePrice</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>changePrice<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    components<span class="token operator">:</span><span class="token punctuation">{</span>Child<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>price<span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">changePrice</span><span class="token punctuation">(</span><span class="token parameter">newPrice</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> newPrice
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

// Child
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{price}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>addPrice<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>â•ğŸ’°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">addPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'changePrice'</span><span class="token punctuation">,</span><span class="token number">6666</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    props<span class="token operator">:</span><span class="token punctuation">{</span>
        price<span class="token operator">:</span><span class="token punctuation">{</span>
            type<span class="token operator">:</span>Number
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å°†æ–¹æ³•ä¸¢åˆ°å­ç»„ä»¶ç­‰åŒäº<code>this.$on('changePrice','changePrice')</code>, ç„¶ååˆ°å­ç»„ä»¶ç”¨<code>this.$emit('changePrice',value)</code>, æ¥æ”¶å›ä¼ è°ƒç”¨, å•å‘æ•°æ®æµéƒ½æ˜¯è¿™ä¹ˆæ¶å¿ƒ, åªèƒ½ä¿®æ”¹çŠ¶æ€æºæ‰èƒ½å‡ºå‘ä¸‹æµçŠ¶æ€æ›´æ–°, è¿™ç§æ–¹å¼å†™é‚£ä¹ˆä¸€ä¸¤å±‚ä¼ é‚£ä¹ˆä¸€ä¸¤å±‚æˆ–è®¸ä½ è¿˜è§‰å¾—æ²¡å•¥, ç°åœ¨æˆ‘æƒ³ç»™ä½ å¤šåŠ ä¸¤å±‚ä¼ é€’, ä½ å¯èƒ½å°±æƒ³è½®é”®ç›˜, å¥½åœ¨äººå®¶å°±æ˜¯<code>Api</code>å¤š, å„ç§æ¶æ€§çš„æƒ…å†µéƒ½è€ƒè™‘åˆ°äº†, å¦‚ä¸‹</p> <ul><li><strong>ç©¿æ’å‡ ä¸ªå°çš„caseæ–¹æ³•</strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>update:xxx sync v-model</span></li></ul> <p>è®²é“ç†, è¿™å‰é¢ä¸¤ä¸ªçœŸçš„æˆ‘å°±æ²¡è§äººç”¨è¿‡, ä½†æ˜¯ä½ è¿˜å¿…é¡»å¾—ä¼š, ä½ è¯´æ°”ä¸æ°”, è¿™é‡Œè¿‡æ¸¡ä¸€ä¸‹å°±è¡Œäº†, çŸ¥é“æœ‰è¿™ç§æ–¹å¼å°±è¡Œ.</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// Parent
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">:count</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">@update:</span>count</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>newValue =&gt; count = newValue<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Child</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">:count.sync</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Child</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
// Child
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">sonChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// parent å¿…é¡»ä½¿ç”¨ :count.sync=&quot;count&quot;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:count&quot;</span><span class="token punctuation">,</span> <span class="token number">666</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å…¶ä¸­è¿™ä¸¤ç§æ˜¯ç­‰ä»·å¼çš„æ“ä½œ, ç”±äºç¬¬ä¸€ç§æ–¹å¼å†™çš„å¤ªè¿‡äºè‡ƒè‚¿, äºæ˜¯ä¹å®˜æ–¹ç»™å‡ºäº†ç¬¬äºŒç§çš„å®ç°æ–¹å¼, é‚£æˆ‘ä¸ºä»€ä¹ˆè¿˜è¦å­¦ä¹ ç¬¬ä¸€ç§???, è¿˜æ˜¯è¦æ³¨æ„ä¸€ç‚¹<code>update:</code>æ˜¯å›ºå®šå†™æ³•, é‡ç‚¹æ¥äº†, æˆ‘ä¼šå‘Šè¯‰ä½ , è¿˜æœ‰æ›´åŠ ç®€å•çš„æ–¹æ³•, <code>v-model</code>, ä½†æ˜¯ä¹Ÿæœ‰ä¸å°çš„å±€é™æ€§. å…ˆæ¥çœ‹çœ‹æ–¹æ³•.</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Child</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>??? æŒ–æ§½, çªç„¶å›è¿‡ç¥, è¿™ä¸ªå¯ä»¥åŒå‘ç»‘å®š, å¤ªå‘<code>React</code>ç³»åˆ—äº†, åˆä¸€æŸ¥, å¥½åƒåªèƒ½æ¥å—å•å€¼, ä¸çŸ¥é“å¯¹è±¡å¯ä»¥ä¸.</p> <ul><li><strong>å¤šå±‚åµŒå¥—ä¼ å‚</strong><span class="badge warn" style="vertical-align:top;" data-v-26ebd6a3>$parent $children</span></li></ul> <p>å…¶å®å¸¸è§çš„<code>$parent</code>,<code>$children</code>æ˜¯è¶³ä»¥è§£å†³æˆ‘ä»¬çš„é—®é¢˜, å…¶å®è¿™æ˜¯å±äºä¸¤ç§ä¸åŒçš„æ“ä½œ, ä½†æ˜¯å®ç°çš„æ€è·¯æ˜¯å·®ä¸å¤šçš„, ä»¥ä¸‹æ˜¯ä¸‰å±‚åµŒå¥—æ˜¯ä½¿ç”¨çš„æ–¹æ³•, æˆ‘ä»¬æœŸæœ›åœ¨ç¬¬ä¸‰å±‚è§¦å‘çˆ¶ç»„ä»¶çš„æ›´æ–°</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// Parent</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">changePrice</span><span class="token punctuation">(</span><span class="token parameter">newPrice</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> newPrice
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Child</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">addPrice</span><span class="token punctuation">(</span><span class="token parameter">newPrice</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'changePrice'</span><span class="token punctuation">,</span>newPrice<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//ChildSon</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">addPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'changePrice'</span><span class="token punctuation">,</span><span class="token number">6666</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>OK, æ•ˆæœæ˜¾è‘—, ç”±äºå…¶ä»–ä»£ç éƒ½ä¸€æ ·, å°±ä¸åšå…¨éƒ¨å±•ç¤º, çœ‹åˆ°è¿™è¦æ˜¯è¿˜çœ‹ä¸æ‡‚é‚£å°±æ²¡åŠæ³•äº†, ä¸‰å±‚è²Œä¼¼ä¹Ÿæ˜¯èƒ½æ¥å—çš„, é‚£æˆ‘ä»¬æ¥å››å±‚, æ¥äº”å±‚, æ¥...å±‚ï¼Ÿï¼Ÿ, è¯´åˆ°è¿™åˆæƒ³è½®é”®ç›˜äº†, ä½ è¿™ä¸æ˜¯é—¹ç€ç©å—.</p> <ul><li><strong>å¤šå±‚åµŒå¥—ä¼ å‚å‡çº§</strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>$parent</span></li></ul> <p>é‰´äºå±‚çº§è¿‡æ·±é—®é¢˜, æœ¬äººè¿‡æ‡’é—®é¢˜, ä»¥åŠ<code>Vue</code>æºç é‡å†™æ•°ç»„çš„é—®é¢˜, é‚£æˆ‘ä»¬å°±ä»¿ç…§ä¸€ä¸‹, ç›´æ¥åœ¨<code>Vue</code>åŸå‹ä¸Šåšç‚¹æ‰‹è„š, åœ¨å®ä¾‹ä¸Šæ·»åŠ ä¸€ç‚¹è‡ªå·±çš„ä¸œè¥¿æ¥è§£å†³è¿™ä¸ªé—®é¢˜. æˆ‘ä»¬æœŸæœ›æ˜¯è‡ªåŠ¨å‘ä¸Šå¯»æ‰¾è§¦å‘æº, ç›´åˆ°é¡¶å±‚, <strong>æ³¨æ„ï¼šæ­¤æ–¹å¼æ˜¯å‘ä¸Šå¯»æ‰¾è§¦å‘æº</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// main</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$parent</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">E</span><span class="token punctuation">,</span><span class="token constant">V</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> parent <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">{</span>
        parent<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token constant">E</span><span class="token punctuation">,</span><span class="token constant">V</span><span class="token punctuation">)</span>
        parent <span class="token operator">=</span> parent<span class="token punctuation">.</span>$parent<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ–¹æ³•è¿˜æ˜¯æ¯”è¾ƒæ˜æ˜¾çš„<code>parent</code>åªéœ€è¦å­˜å‚¨æ¯æ¬¡æ‰¾åˆ°çš„æœ‰<code>emit</code>çš„å€¼, å¾ªç¯è¦†ç›–, ç›´åˆ°ä¸å­˜åœ¨<code>parent</code>çš„é¡¶å±‚. ç”¨æ³•ä¹Ÿæ˜¯æå…¶ç®€å•, å› ä¸ºæ˜¯ç›´æ¥åœ¨åŸå‹ä¸Šæ‰©å±•, æŒ‚è½½åˆ°<code>vm</code>å®ä¾‹ä¸Š, æ‰€æœ‰éœ€è¦<strong>æ³¨æ„é‡åé—®é¢˜</strong>, ä½¿ç”¨ä¹Ÿæ˜¯è°ƒç”¨å³å¯. ç”±äºæ˜¯è‡ªå·±å®ç°é€’å½’æ“ä½œ, æ‰€ä»¥ä¸å†éœ€è¦è€ƒè™‘å±‚çº§é—®é¢˜.</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">//ChildSon /ChildN</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">addPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$parent</span><span class="token punctuation">(</span><span class="token string">'changePrice'</span><span class="token punctuation">,</span><span class="token number">6666</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><strong>å¤šå±‚åµŒå¥—ä¼ å‚å‡çº§</strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>$children</span></li></ul> <p>ç›®å‰ä¸ºæ­¢, æˆ‘ä»¬å·²ç»è§£å†³äº†æ— é™åµŒå¥—å‘ä¸Šå¯»æ‰¾è§¦å‘æºçš„é—®é¢˜, é‚£ä¹ˆæ¶å¿ƒçš„éœ€æ±‚æ€»æ˜¯æœ‰ä¸€æ¬¡ä»¥åŠæ— æ•°æ¬¡, ä¸‹é¢æˆ‘ä»¬åˆæœ‰ä¸ªéœ€æ±‚, æˆ‘éœ€è¦åœ¨é¡¶å±‚ç»„ä»¶è§¦å‘æ——ä¸‹æ‰€æœ‰å­ç»„ä»¶çš„æŸä¸ªæ–¹æ³•, å¬èµ·æ¥æœ‰ç‚¹åƒå‘å¸ƒè®¢é˜…çš„æ¦‚å¿µ, åŠä¼¼å¹¿æ’­äº‹ä»¶, ä¸è¿‡è¿™ä¸ªå®ç°æ€è·¯, å€’ä¹Ÿæ˜¯å¾ˆ<code>$parent</code>å·®ä¸å¤š, å¥½åƒå°±æ˜¯æ–¹å‘ä¸åŒç½¢äº†. é‚£ä¹ˆå†æ¥è¯•è¯•. æ—¢ç„¶ç”¨æ³•ç›¸åŒæ— å¼‚, é‚£å®ç°å®šæ—¶æ— å¼‚.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$broadscat</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">E</span><span class="token punctuation">,</span><span class="token constant">V</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> children <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$children
    <span class="token keyword">function</span> <span class="token function">boad</span><span class="token punctuation">(</span><span class="token parameter">children</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">child</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            child<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token constant">E</span><span class="token punctuation">,</span><span class="token constant">V</span><span class="token punctuation">)</span>
             <span class="token comment">// è¿­ä»£é€’å½’</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>child<span class="token punctuation">.</span>$children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">broad</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>$children<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">boad</span><span class="token punctuation">(</span>children<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¹Ÿä¸æ˜¯å¾ˆéš¾å§, å°±æ˜¯ç®€å•çš„å¾ªç¯æŸ¥æ‰¾, å­˜åœ¨ä¸‹çº§å°±æ¥ç€æ‰¾, è§¦å‘ä¸€åˆ‡ä½ æƒ³è¦è§¦å‘çš„äº‹ä»¶, ç”¨æ³•ä¸ä¸Šæ— å¼‚.</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">//App</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">addPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$broadscat</span><span class="token punctuation">(</span><span class="token string">'changePrice'</span><span class="token punctuation">,</span><span class="token number">6666</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><strong>å¤šå±‚å¤šå‚æ•°åµŒå¥—ä¼ å‚</strong><span class="badge warn" style="vertical-align:top;" data-v-26ebd6a3>$attrs $listeners</span></li></ul> <p>æ—¢ç„¶æ¶å¿ƒé‚£å°±æ¶å¿ƒåˆ°åº•, åœ¨æ¥ä¸€ä¸ªéœ€æ±‚, åŒæ—¶ä¼ å…¥å¤šä¸ª<strong>å‚æ•°/æ–¹æ³•</strong>å¹¶ä¸”, <strong>å¤šå±‚ä¼ é€’</strong>, åœºæ™¯å¦‚ä¸‹, ç¬¬äºŒå±‚ç»„ä»¶ä¸ä½¿ç”¨æ–¹æ³•, ç¬¬ä¸‰å±‚æ‰éœ€è¦ä½¿ç”¨.</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// Parent
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">:price</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:count</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>count<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>eat<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@mouseup</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>eat<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Child</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

// Child
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ChildSon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ChildSon</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

// ChildSon
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    {{props}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>é‚£è¿™ä¸æ˜¯å¾ˆç®€å•, <code>Props</code>æ¥å—ä¸€ä¸‹ä¸å°±å®Œäº‹äº†, æ²¡é”™æˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„, æˆ‘åœ¨ç¬¬äºŒå±‚Propsæ‹¦æˆªæ¥å—äº†ä¸€ä¸‹, å¦‚æœåœ¨å½“å‰é¡µé¢ä½¿ç”¨è¿‡å°±å‘ç°ä¼ é€’ä¸ä¸‹å»äº†, æŠ›å¼€è¿™ä¸€ç‚¹, å°±ç®—é€ä¸ªæ¥å—, ä¹Ÿæœ‰è¯¸å¤šä¸ä¾¿, éš¾é“å†™ä¸€å¤§å †æ¥å—æ–¹æ³•ï¼Ÿ ç„¶åç¿»é<code>Api</code>å‘ç°è¿˜æœ‰<code>$Attrs</code>,<code>$listeners</code>è¿™ä¸¤ä¸œè¥¿.</p> <ul><li><strong>å¤šå±‚å¤šå‚æ•°åµŒå¥—å‡çº§ä¼ å‚</strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>$attrs</span></li></ul> <p>å…ˆæ¥è¯•è¯•åŒæ—¶æ¥å—å¤šä¸ªå±æ€§, å¹¶ä¸”ä¼ é€’åˆ°ä¸‹ä¸€å±‚</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// Child
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ChildSon</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ChildSon</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
// ChildSon
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    {{$attrs}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å®Œç¾, è¿™é‡Œéœ€è¦æ³¨æ„åˆ°çš„æ˜¯, <code>$attrs</code>å¯ä»¥æ˜¯å¤åˆå±æ€§, å¹¶ä¸”åœ¨å½“å‰é¡µé¢ç›´æ¥<code>$attrs.xxx</code>éƒ½æ˜¯å®Œå…¨OK, ä½†æ˜¯å¿…é¡»å¾—ä½¿ç”¨<code>v-bind</code>æ¥åŠ¨æ€ç»‘å®š, å¹¶ä¸”ä¸èƒ½ç®€å†™æˆ<code>:</code></p> <ul><li><strong>å¤šå±‚å¤šå‚æ•°åµŒå¥—å‡çº§ä¼ å‚</strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>$listeners</span></li></ul> <p>å±æ€§éƒ½è¿™æ ·å†™å‡ºæ¥äº†, æ–¹æ³•å¿…ç„¶ä¹Ÿæ˜¯é›·åŒ.</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// Child
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ChildSon</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-on</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$listeners<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ChildSon</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
// ChildSon
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    {{$attrs}}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$listeners.click<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@mouseup</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$listeners.mouseup<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æ²¡æ¯›ç—….</p> <ul><li><strong>å¤šå±‚å¤šå‚æ•°åµŒå¥—å‡çº§ä¼ å‚</strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>provider inject</span></li></ul> <p>çœ‹äº†ä¸‹å®˜æ–¹æ¨è, ä¸å»ºè®®ä½¿ç”¨, åŸå› æ˜¯çŠ¶æ€æ··ä¹±, çœ‹åˆ°<code>provider</code>å°±è®©æˆ‘æƒ³åˆ°äº†<code>React</code>ä¸­çš„<code>context</code>, ä¸€çœ‹å°±æ˜¯å…¨å±€åŒ…è£…æš´éœ²çˆ¶ç»„ä»¶æœ¬èº«å®ä¾‹, é‚£å°±ä¸åšè¿‡å¤šé˜è¿°, äººå®¶éƒ½ä¸æ¨èä½¿ç”¨, æƒ³è¦äº†è§£æ–¹æ³•çš„å¯ä»¥ç›´æ¥å‰å¾€å®˜ç½‘æŸ¥çœ‹.</p> <ul><li><strong>å®ä¾‹è·å–æ–¹æ³•</strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>ref</span></li></ul> <p>è¿™ä¸ªå°±å¼ºäº†, ç›´æ¥è·å–åˆ°çœŸå®<code>DOM</code>çš„å®ä¾‹æ¥æ“ä½œ, ç”±äº<code>Vue</code>æ˜¯ä¸€ä¸ªå®ä¾‹, å†ä¹Ÿä¸ç”¨æ‹…å¿ƒ, ä¼šæƒ³<code>React</code>ä¸€æ ·ç¢°åˆ°å‡½æ•°å¼å†™æ³•,æ‹¿ä¸åˆ°<code>this</code>å®ä¾‹, è¿™ä¸ªå¯ä»¥ç›´æ¥æ“ä½œå®ä¾‹ä¸Šçš„æ–¹æ³•, å¯ä»¥è¯´æ˜¯æœ€ç®€å•ç²—æš´çš„.çœ‹ç”¨æ³•</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Child</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>son2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Child</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç›´æ¥é€šè¿‡parentä¸Šçš„refæ¥è·å–</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ç®€å•ç²—æš´, åªéœ€è¦æ³¨æ„è·å–çœŸå®<code>DOM</code>åƒä¸‡ä¸è¦é‡å, ä¸ç„¶å°±ä¼šå‡ºç°è¦†ç›–æˆ–è€…æ‰¾ä¸åˆ°å®ä¾‹çš„æƒ…å†µ.</p> <ul><li><strong>ç¬¬ä¸‰è€…æ–¹æ³•</strong><span class="badge tip" style="vertical-align:top;" data-v-26ebd6a3>eventBus</span></li></ul> <p>å¬è¯´è¿™ä¸ªæ˜¯ç”¨çš„æœ€ä¸ºå¸¸è§çš„, ç”¨æ³•ä¹Ÿæ˜¯<code>$emit</code>,<code>$on</code>çš„ç”¨æ³•, å’Œ<code>$parent</code>,<code>$children</code>æœ‰äº›è®¸å·®å¼‚, è¿™ä¸ªæ›´åƒæ˜¯å°†è½¬æ¥æƒäº¤ç»™ç¬¬ä¸‰è€…æ¥è½¬å‘, ä¹‹åå°±å¯ä»¥åœ¨ä»»ä½•ç»„ä»¶å®šä¹‰äº‹ä»¶æº, åœ¨ä»»ä½•ç»„ä»¶è§¦å‘ä»»ä½•äº‹ä»¶æº, ç”¨èµ·æ¥æ„Ÿè§‰å¾ˆèˆ’æœ, å…ˆæ ¹æ®éœ€æ±‚æ¥è¯•è¯•æ€ä¹ˆå†™.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>å¾ˆç®€å•æœ‰ä¸æœ‰, åªéœ€è¦æš´éœ²ä¸€ä¸ªå®ä¾‹å³å¯, é‚£ä»–çš„å®ä¾‹ä¸Šä¸å°±æœ‰<code>$emit</code>è§¦å‘æºä»¥åŠ<code>$on</code>ç»‘å®šæº, ä¸å°±å¯ä»¥åšåˆ°ä»»æ„åŒ–,</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// Parent</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// eventsBus</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">&quot;bus&quot;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'bus'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// anyComponent</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'bus'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ç”±äº<code>mounted</code>çš„é’©å­æ‰§è¡Œé¡ºåºçš„åŸå› , è¿™é‡Œä½¿ç”¨<code>$nextTick</code>æ¥å»¶è¿Ÿæ‰§è¡Œ, ç­‰åˆ°è§†å›¾å…¨å›¾æŒ‚è½½å®Œæˆåœ¨æ‰§è¡Œè¯¥æ–¹æ³•ï¼Œçœ‹èµ·æ¥ä¼¼ä¹å¹¶æ²¡æœ‰ä»€ä¹ˆæ¯›ç—…, ä½†ä¸ªäººæ„Ÿè§‰è¿™æ ·ä¼šé€ æˆå¾ˆå¤šä¸å¿…è¦çš„æ›´ç»†æ“ä½œä»¥åŠæ•°æ®æ··ä¹±, ä¸€æ—¦æ“ä½œå¤æ‚å°±ä¼šå‡ºç°çŠ¶æ€ä¸¢å¤±é—®é¢˜.</p> <ul><li>ä»¥ä¸Šå„ç§ä½¿ç”¨æ–¹æ³•, ä¸ªäººè¿˜æ˜¯æœ€æ¨è<code>props $emit</code>, æ„Ÿè§‰è¿™ä¸¤ä¸ªæœ€ä¸ä¼šå‡ºç°é—®é¢˜, æœ€ç®€å•çš„ä¹Ÿæ˜¯æœ€ç¨³å¦¥çš„.</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">æœ€åæ›´æ–°æ—¶é—´:</span> <span class="time">12/4/2019, 12:43:57 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/FAQ/Vue/observer.html" class="prev">
        ğŸ”§ä¹ä¸ç‰ˆæœ¬MvvM
      </a></span> <span class="next"><a href="/FAQ/Work/TSC.html">
        ğŸ‹ï¸â€â™‚ï¸TypeScript
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.903983bb.js" defer></script><script src="/assets/js/2.c5c844f9.js" defer></script><script src="/assets/js/21.436a904b.js" defer></script><script src="/assets/js/10.acc61093.js" defer></script>
  </body>
</html>
